MariaDB [MusicFestival]> -- ============================================================================
MariaDB [MusicFestival]> -- 8. EXECUTION
MariaDB [MusicFestival]> -- ============================================================================
MariaDB [MusicFestival]>
MariaDB [MusicFestival]> -- Run all tests
MariaDB [MusicFestival]> CALL run_all_tests();
+-----------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                          |
+-----------------------------------------------------------------------------------------------------------------------------------+
| Test PK-1 (PRIMARY_KEY): Duplicate primary key in Location - PASSED (Expected error: Duplicate entry '1' for key 'PRIMARY') (0ms) |
+-----------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.047 sec)

+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                                                                          
     |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Test UQ-1 (UNIQUE_KEY): Duplicate artist pseudonym - PASSED (Expected error: Table 'Artist' is specified twice, both as a target for 'INSERT' and as a separate source for data) (0ms) |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.059 sec)

+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+   
| result                                                                                  
                                                                                      |   
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+   
| Test UQ-2 (UNIQUE_KEY): Duplicate band name - PASSED (Expected error: Table 'Band' is specified twice, both as a target for 'INSERT' and as a separate source for data) (0ms) |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+   
1 row in set (0.070 sec)

+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                                                                          
   |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Test UQ-3 (UNIQUE_KEY): Duplicate visitor email - PASSED (Expected error: Table 'Visitor' is specified twice, both as a target for 'INSERT' and as a separate source for data) (0ms) |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.086 sec)

+----------------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                                     |
+----------------------------------------------------------------------------------------------------------------------------------------------+
| Test UQ-4 (UNIQUE_KEY): Duplicate ticket EAN code - PASSED (Expected error: Visitor already has a ticket for this day and performance) (0ms) |
+----------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.116 sec)

+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                                                                          
                                                                                          
                                             |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Test FK-1 (FOREIGN_KEY): Foreign key constraint on Festival location_id - PASSED (Expected error: Cannot add or update a child row: a foreign key constraint fails (`musicfestival`.`festival`, CONSTRAINT `festival_ibfk_1` FOREIGN KEY (`location_id`) REFERENCES `location` (`location_id`) ON DELETE CASCADE)) (0ms) |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.129 sec)

+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                                                                          
                                                                                          
                                                      |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Test FK-2 (FOREIGN_KEY): Foreign key constraint on FestivalDay festival_id - PASSED (Expected error: Cannot add or update a child row: a foreign key constraint fails (`musicfestival`.`festivalday`, CONSTRAINT `festivalday_ibfk_1` FOREIGN KEY (`festival_id`) REFERENCES `festival` (`festival_id`) ON DELETE CASCADE)) (0ms) |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.168 sec)

+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                                                                          
                                                                                          
                                          |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Test FK-3 (FOREIGN_KEY): Foreign key constraint on Performance event_id - PASSED (Expected error: Cannot add or update a child row: a foreign key constraint fails (`musicfestival`.`performance`, CONSTRAINT `performance_ibfk_1` FOREIGN KEY (`event_id`) REFERENCES `event` (`event_id`) ON DELETE CASCADE)) (0ms) |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.252 sec)

+-----------------------------------------------------------------------------------+     
| result                                                                            |     
+-----------------------------------------------------------------------------------+     
| Test FK-4 (FOREIGN_KEY): ON DELETE CASCADE Festival -> FestivalDay - PASSED (0ms) |
+-----------------------------------------------------------------------------------+     
1 row in set (0.302 sec)

+--------------------------------------------------------------------------------+        
| result                                                                         |        
+--------------------------------------------------------------------------------+        
| Test FK-5 (FOREIGN_KEY): ON DELETE CASCADE Event -> Performance - PASSED (0ms) |
+--------------------------------------------------------------------------------+        
1 row in set (0.310 sec)

+------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                                                               |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Test CHK-1 (CHECK_CONSTRAINT): Continent check constraint on Location - PASSED (Expected error: CONSTRAINT `CONSTRAINT_1` failed for `musicfestival`.`location`) (0ms) |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.331 sec)

+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                                                          |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Test CHK-2 (CHECK_CONSTRAINT): Capacity check constraint on Stage - PASSED (Expected error: CONSTRAINT `stage.capacity` failed for `musicfestival`.`stage`) (0ms) |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.350 sec)

+---------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                              |
+---------------------------------------------------------------------------------------------------------------------------------------+
| Test CHK-3 (CHECK_CONSTRAINT): Age check constraint on Visitor - PASSED (Expected error: Visitor must be at least 16 years old) (0ms) |
+---------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.365 sec)

+--------------------------------------------------------------------------------------------------------+
| result                                                                                  
               |
+--------------------------------------------------------------------------------------------------------+
| Test CHK-4 (CHECK_CONSTRAINT): Age check constraint on Visitor (edge case - exactly 16) - PASSED (0ms) |
+--------------------------------------------------------------------------------------------------------+
1 row in set (0.380 sec)

+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                                                                          
             |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Test CHK-5 (CHECK_CONSTRAINT): Duration check constraint on Performance (too long) - PASSED (Expected error: CONSTRAINT `performance.duration` failed for `musicfestival`.`performance`) (0ms) |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.398 sec)

+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                                                                          
              |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Test CHK-6 (CHECK_CONSTRAINT): Duration check constraint on Performance (too short) - PASSED (Expected error: CONSTRAINT `performance.duration` failed for `musicfestival`.`performance`) (0ms) |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.413 sec)

+-----------------------------------------------------------------------------------------------------------+
| result                                                                                  
                  |
+-----------------------------------------------------------------------------------------------------------+
| Test CHK-7 (CHECK_CONSTRAINT): Duration check constraint on Performance (exactly 1 minute) - PASSED (0ms) |
+-----------------------------------------------------------------------------------------------------------+
1 row in set (0.429 sec)

+--------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                     |
+--------------------------------------------------------------------------------------------------------------+
| Test CHK-8 (CHECK_CONSTRAINT): Duration check constraint on Performance (exactly 180 minutes) - PASSED (0ms) |
+--------------------------------------------------------------------------------------------------------------+
1 row in set (0.435 sec)

+----------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                             |
+----------------------------------------------------------------------------------------------------------------------+
| Test TRG-1 (TRIGGER): Festival date year constraint - PASSED (Correctly blocked festival date with wrong year) (0ms) |
+----------------------------------------------------------------------------------------------------------------------+
1 row in set (0.449 sec)

+---------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                            |
+---------------------------------------------------------------------------------------------------------------------+
| Test TRG-2 (TRIGGER): 3 consecutive years artist limitation - PASSED (Correctly blocked 4th consecutive year) (0ms) |
+---------------------------------------------------------------------------------------------------------------------+
1 row in set (0.463 sec)

+----------------------------------------------------------------------------------------------------------+
| result                                                                                  
                 |
+----------------------------------------------------------------------------------------------------------+
| Test TRG-3 (TRIGGER): VIP ticket limit constraint - PASSED (Correctly blocked exceeding VIP limit) (0ms) |
+----------------------------------------------------------------------------------------------------------+
1 row in set (0.479 sec)

+----------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                       |
+----------------------------------------------------------------------------------------------------------------+
| Test TRG-4 (TRIGGER): Performance gap constraint (minimum) - PASSED (Correctly blocked insufficient gap) (0ms) |
+----------------------------------------------------------------------------------------------------------------+
1 row in set (0.486 sec)

+-------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                    |
+-------------------------------------------------------------------------------------------------------------+
| Test TRG-5 (TRIGGER): Performance excessive gap constraint - PASSED (Correctly blocked excessive gap) (0ms) |
+-------------------------------------------------------------------------------------------------------------+
1 row in set (0.500 sec)

+-------------------------------------------------------------------------------------+   
| result                                                                              |   
+-------------------------------------------------------------------------------------+   
| Test TRG-6 (TRIGGER): Performance gap constraint (exactly 5 minutes) - PASSED (0ms) |
+-------------------------------------------------------------------------------------+   
1 row in set (0.516 sec)

+--------------------------------------------------------------------------------------+  
| result                                                                               |  
+--------------------------------------------------------------------------------------+  
| Test TRG-7 (TRIGGER): Performance gap constraint (exactly 30 minutes) - PASSED (0ms) |  
+--------------------------------------------------------------------------------------+  
1 row in set (0.530 sec)

+--------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                           |
+--------------------------------------------------------------------------------------------------------------------+
| Test TRG-8 (TRIGGER): Concurrent performances constraint - PASSED (Correctly blocked concurrent performance) (0ms) |
+--------------------------------------------------------------------------------------------------------------------+
1 row in set (0.535 sec)

+------------------------------------------------------------------------------------------------------+
| result                                                                                  
             |
+------------------------------------------------------------------------------------------------------+
| Test TRG-9 (TRIGGER): ResaleQueue constraint - PASSED (Correctly blocked non-resalable ticket) (0ms) |
+------------------------------------------------------------------------------------------------------+
1 row in set (0.550 sec)

+------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                               |
+------------------------------------------------------------------------------------------------------------------------+
| Test TRG-10 (TRIGGER): Review eligibility constraint - PASSED (Correctly blocked review from ineligible visitor) (0ms) |
+------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.563 sec)

+---------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                  |
+---------------------------------------------------------------------------------------------------------------------------+
| Test TRG-11 (TRIGGER): One ticket per visitor per day and performance - PASSED (Correctly blocked duplicate ticket) (0ms) |
+---------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.570 sec)

+-----------------------------------------------------------------------------------------------------------+
| result                                                                                  
                  |
+-----------------------------------------------------------------------------------------------------------+
| Test TRG-12 (TRIGGER): Event time overlap constraint - PASSED (Correctly blocked overlapping event) (0ms) |
+-----------------------------------------------------------------------------------------------------------+
1 row in set (0.585 sec)

+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                                                        |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Test STF-1 (STAFF): Security staff requirement - PASSED (Expected error when exceeding limit: Exceeding maximum security staff allocation for this event) (0ms) |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.603 sec)

+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                                                      |
+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Test STF-2 (STAFF): Support staff requirement - PASSED (Expected error when exceeding limit: Exceeding maximum support staff allocation for this event) (0ms) |
+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.619 sec)

+---------------------------------------------------------------------------------------+ 
| result                                                                                | 
+---------------------------------------------------------------------------------------+ 
| Test STF-3 (STAFF): Technical staff assignment with proper shift times - PASSED (0ms) | 
+---------------------------------------------------------------------------------------+
1 row in set (0.645 sec)

+---------------------------------------------------------------------------------------------------------------------------------------+
| result                                                                                  
                                              |
+---------------------------------------------------------------------------------------------------------------------------------------+
| Test STRESS-1 (STRESS): Stress test ticket creation and VIP constraint - PASSED (Successfully created 200 tickets (100 VIP)) (1000ms) |
+---------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.913 sec)

+---------+
| Summary |
+---------+
| NULL    |
+---------+
1 row in set (0.937 sec)

Empty set (0.951 sec)

Empty set (0.951 sec)

+-----------------------------+
| message                     |
+-----------------------------+
| Test data cleanup completed |
+-----------------------------+
1 row in set (1.096 sec)

Query OK, 1661 rows affected (1.098 sec)